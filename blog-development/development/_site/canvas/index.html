<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <title>El mundo de los 8 bits y mucho mas en tu navegador web – Hackdó – -Hackers del río- es la primera comunidad de desarrolladores del Chocó, que busca cambiar la sociedad a través de la creación de proyectos Open Source.</title>

    <meta name="author" content="Hackdó" />
    <meta name="description" content="-Hackers del río- es la primera comunidad de desarrolladores del Chocó, que busca cambiar la sociedad a través de la creación de proyectos Open Source.">

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/blog/style.css" />
    <link href='http://fonts.googleapis.com/css?family=Courgette' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">

          <div id="title-and-quote" class="title-and-quote">
            <a href="/blog/" class="site-avatar"><img src="https://raw.githubusercontent.com/H4ckdo/h4ckdo.github.io/gh-pages/images/hackdo-kekyll.png" /></a>

            <div class="site-info">
              <h1 class="site-name"><a href="/blog/">Hackdó</a></h1>
            </div>
          </div>

          <div class="description-container">
            <em class="site-description">-Hackers del río- es la primera comunidad de desarrolladores del Chocó, que busca cambiar la sociedad a través de la creación de proyectos Open Source.</em>
          </div>

          <nav>
            <div class="iten-nav">
              <a href="/blog/">Blog</a>
              <a href="/blog/articles.html">Artículos</a>
              <a href="/blog/eventos.html">Eventos</a>
              <a href="/blog/equipo.html">Equipo</a>
            </div>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <!-- Buscar los detalles del autor para configurar el sitio. -->


<!-- Arrojar los detalles del autor si existen. -->
<head>
  
</head>


  <span class="post-details-container">
      <!-- Mugshot. -->
      <img id="avatar-picture" src="//www.gravatar.com/avatar/a75c1e0d9698c6c7a46582b6f934d38e?s=135" alt="A photo of Esneyder Palacios" />
      <!-- Personal Info. -->
      <span id="post-details">
        Por: <a href="http://twitter.com/Sneyder_A" target="_blank">Esneyder Palacios</a> <br />
        <div class="date">
          En October 25, 2014
        </div>
      </span>
  </span>


<article class="post">
  <h1>El mundo de los 8 bits y mucho mas en tu navegador web</h1>
  <div class="entry">
    <p>Este es un artículo escrito para personas: curiosas, entusiastas, inquietas que quieran aprender
y crear cosas interesantes para el mundo.</p>

<p>Hoy en día las tecnologías web no son lo que eran en la década pasada ya que las web tanto en el lado del cliente como del servidor han despegado y evolucionado a niveles estratosféricos y todo el mundo quiere estar al borde de dicha evolución las tecnologías a las que me refiero son: Html5, Css3, <strong>Javascript/cliente/servidor</strong>.</p>

<p>Específicamente es este post hablaré de las tecnologías del lado de cliente y una funcionalidad en particular que llamada canvas que viene como parte del estándar html en su versión 5.</p>

<h2 id="qu-es-html">¿Qué es HTML?</h2>

<p>Html es un acrónimo que significa: </p>

<p>HyperText - “Hipertexto”</p>

<p>Markup    -  “Marcado”</p>

<p>Language  -  “Lenguaje”</p>

<p>Es un lenguaje de marcado de hipertexto ¿ que significa esto ? es un lenguaje “estándar” creado para la elaboración de páginas web mediante un sistema de etiquetas especifica que una vez analizado y entendido por el navegador que estés usando, muestra todo el contenido de las páginas web: texto, imágenes, videos etc… la última versión de este lenguaje es la 5.</p>

<p>¿Que es canvas?
En español significa lienzo, es una etiqueta de html5 que aporta capacidades para desarrollar en 2d y 3d cosas como interfaces multimedia, animaciones, videojuegos y mucho mas con todo el poder de los navegadores y dispositivos modernos, se podría decir que es el reemplazo de Adobe Flash. ¿Qué te parece si iniciamos con algunos ejemplos?</p>

<h2 id="demos-de-canvas">¿Demos de canvas?</h2>
<p>Por supuesto que tengo ejemplos para explicarte de manera fácil y gráfica:
* <a href="http://designinstruct.com/web-design/examples-html5-canvas/">Canvas-Examples</a> - Ejemplos de canvas
* <a href="http://www.lessmilk.com/12games">Canvas-Games 2d</a> - Juegos en 2d 
* <a href="http://threejs.org/">Canvas-Games 3d</a> - Juegos en 3d !!! </p>

<p>Entonces comencemos a codear !!!
Vamos a hacer muchas cosas interesantes de aquí en adelante asi que necesitare toda tu concentración, recomiendo que cierres la pestaña del facebook por ahora, para comenzar necesitaremos las siguientes herramientas:</p>

<ul>
  <li>Editor de texto preferido yo recomiendo <a href="sublimetext.com/2">sublime text 2</a> </li>
  <li>Navegador google chrome o mozilla firefox</li>
  <li>Conocimiento básico de html5 y javascript
 *Café colombiano </li>
</ul>

<p>¿ No tengo conocimientos de html5 y javascript ?
No te preocupes dejaré algunos enlaces en los cuales podrás aprender de manera muy fácil los conocimientos básicos:</p>

<p><a href="https://www.youtube.com/watch?v=_93kDSPlKIM&amp;list=PLC3F56FCF3C62F4A5">Tuturiales en español de html5</a></p>

<p><a href="http://slides.com/esneyderaminpalaciosmena/intruccion-a-javascript#/13">Introduccion a javascript</a></p>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Values,_variables,_and_literals">Guia de javascript/Mozilla foundation</a></p>

<h2 id="animacin-en-canvas-1">Animación en canvas 1</h2>
<p>En nuestra primera animación, simplemente dibujaremos un círculo y harémos que se mueva de izquierda a derecha, necesitaremos crear un documentos básico en html con la etiqueta canvas que tenga un identificador “lienzo” un ancho y un alto de 500 pixeles, también un enlace a el archivo de javascript con la etiqueta script y en el atributo ´src´ incluye la ruta del archivo que llamaremos <strong>game.js</strong> por ahora crea todos los archivos en la misma carpeta para no enredarnos con rutas relativas.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
  <span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;es&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Document<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">&quot;lienzo&quot;</span> <span class="na">width=</span><span class="s">&quot;500&quot;</span> <span class="na">height=</span><span class="s">&quot;500&quot;</span><span class="nt">&gt;</span>
    Tu navegador no soporta algunas capacidades de esta página por favor actualizalo para tener una experiencia completa
    <span class="nt">&lt;/canvas&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;game.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
  <span class="nt">&lt;/html&gt;</span></code></pre></div>

<p>La etiqueta Canvas actualmente es <strong>bastante soportada</strong> por muchos <strong>navegadores modernos</strong>, sin embargo puede que el usuario quiera abrir “nuestra página” en un navegador muy antiguo en ese caso se le mostrará el mensaje que le indica que actualice su navegador, por el momento en la etiqueta canvas no irá nada.</p>

<p>En el documento de javascript escribiremos el siguiente código:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;lienzo&quot;</span><span class="p">);</span><span class="c1">// seleccionamos y cacheamos la etiqueta canvas por medio de su identificador y lo guardamos en una variable que llamaremos canvas</span>

  <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span><span class="c1">// Obtenemos el contexto en el que queremos dibujar en este caso es en 2d y lo guardamos en la variable ctx</span></code></pre></div>

<p>esta parte es muy importante ya que es por medio de estas variables que podremos hacer toda nuestra animación, canvas tiene la característica de poder dibujar cosas en sí misma, recuerda que es como un lienzo en cual podemos dibujar para hacer eso tiene varios métodos “funciones”, los cuales podemos utilizar si quieres verlos todos puedes hacer lo siguiente:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ctx</span><span class="p">);</span></code></pre></div>

<p>Si envias esa variable a la consola podras ver un objeto JSON en el cual se aprecian todos lo metodos de dibujo en 2d que estan definidos en el prototipo, o puedes ver la referencia aqui: <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D">Mozilla/CanvasRendering2D</a>
Resulta que canvas implementa el sistema del eje de coordenadas para ubicar los elementos dibujados es importante tenerlo en mente, para ilustrar lo bien te vamos a dibujar una grilla sobre el lienzo para hacer eso haremos lo  siguiente:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Grilla</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
<span class="kd">var</span> <span class="nx">padding</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>

 <span class="k">for</span><span class="p">(</span> <span class="kd">var</span> <span class="nx">colum</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">colum</span> <span class="o">&lt;</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">padding</span> <span class="p">;</span><span class="nx">colum</span><span class="o">++</span> <span class="p">){</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Indicamos que vamos a comenzar un dibujo</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span> <span class="nx">colum</span><span class="o">*</span><span class="nx">padding</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span><span class="c1">//movemos el lapiz al punto necesario</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s2">&quot;rgba(0,0,0,0.5)&quot;</span><span class="p">;</span><span class="c1">//modificamos un el color de la línea</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span> <span class="nx">colum</span><span class="o">*</span><span class="nx">padding</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span> <span class="c1">// llevamos el trazo hasta las coordenadas necesaria en y</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span><span class="c1">// trazamos el camino</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Indicamos que terminamos el dibujo</span>
 <span class="p">};</span><span class="c1">//dibuja las columnas </span>

<span class="k">for</span><span class="p">(</span> <span class="kd">var</span> <span class="nx">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">rows</span> <span class="o">&lt;</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="nx">padding</span> <span class="p">;</span><span class="nx">rows</span><span class="o">++</span> <span class="p">){</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Indicamos que vamos a comenzar un dibujo</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="nx">rows</span><span class="o">*</span><span class="nx">padding</span><span class="p">);</span><span class="c1">//movemos el lapiz al punto necesario </span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s2">&quot;rgba(0,0,0,1)&quot;</span><span class="p">;</span><span class="c1">//modificamos un el color de la linea</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">rows</span><span class="o">*</span><span class="nx">padding</span><span class="p">);</span><span class="c1">// llevamos el trazo hasta las coordenadas necesaria en y</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span><span class="c1">// trazamos el camino </span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Indicamos que terminamos el dibujo</span>
 <span class="p">};</span><span class="c1">//dibuja las filas</span>

<span class="p">};</span><span class="c1">//termina funcion que dibuja la malla sobre el canvas</span>

<span class="nx">Grilla</span><span class="p">();</span><span class="c1">//llama a la funcion grilla</span></code></pre></div>

<p>Si invocas esta funcion <strong>Grilla</strong> tal vez veas algo como esto:</p>

<p><img src="../images/grilla.png" alt="Grilla" /></p>

<p>Analisemos el codigo, primero creamos una funcion a la cual llamamos <strong>Grilla</strong> esta funcion es muy importante por que la vamos a utilizar mas adelante entonces con los metodos de dibujo de lineas simples <a href="http://www.w3schools.com/tags/playcanvas.asp?filename=playcanvas_movetox">moveTo</a> 
comenzamos a dibujar dentro de un ciclo las columnas y los mismo para las filas, analisemos mas de cerca.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">padding</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span><span class="c1">//Espacio entre cada linea</span></code></pre></div>

<p>Creamos una variable <strong>padding</strong> la cual guarda un valor fijo que va ser el espacio entre cada línea de nuestra grilla.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">padding</span></code></pre></div>

<p>Para saber cuantas lineas tenemos que hacer para dibujar bien nuestra grilla simplemente dividimos el ancho en el caso de las columnas por el <strong>padding</strong> o espacio entre cada línea, este será el tope del ciclo que dibuja las líneas.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Indicamos que vamos a comenzar un dibujo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span> <span class="nx">colum</span><span class="o">*</span><span class="nx">padding</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span><span class="c1">//movemos el lapiz al punto necesario</span></code></pre></div>

<p>En cada iteracion comenzamos un dibujo con el metodo del contexto de canvas <a href="http://www.w3schools.com/tags/canvas_beginpath.asp">beginPath</a> y movemos el <strong>lapiz”</strong> en el caso de las columnas en eje <strong>X</strong> multiplicando la variable de incremento por el <strong>padding</strong> o espacio entre cada línea esto va hacer que no dibujamos siempre el mismo lugar, mismo hacemos para las filas pero en eje <strong>**Y</strong>.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s2">&quot;rgba(0,0,0,0.5)&quot;</span><span class="p">;</span><span class="c1">//modificamos un el color de la linea</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span> <span class="nx">colum</span><span class="o">*</span><span class="nx">padding</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span> <span class="c1">// llevamos el trazo hasta las coordenadas necesaria en y</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span><span class="c1">// trazamos el camino</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Indicamos que terminamos el dibujo</span></code></pre></div>

<p>le cambiamos el color de la linea con el metodo <a href="http://www.w3schools.com/tags/canvas_strokestyle.asp">strokeStyle</a> pero esto es opcional, recuerda que anteriomente movimos el “lapiz” con <strong>moveTo</strong> entonces ahora tenemos que decirle hasta qué punto queremos que haga el trazo de la línea con <strong>lineTo</strong> este método requiere 2 parámetros el primero es la posición en <strong>X</strong> de la línea y el segundo es la posición en <strong>Y</strong> entonces lo que nos interesa en el caso de las columnas es trazar hacia abajo hasta el ancho del canvas <strong>canvas.height</strong> lo mismo hacemos para las filas pero cambiando el alto del canvas por el ancho y terminamos cerrando la ruta  de la línea con <strong>closePath</strong></p>

<p>Ahora simplemente dibujaremos un cuadrado relleno con <strong>fillRect</strong>, este método recibe cuatro parámetros los dos primeros son las coordenadas <strong>X,Y</strong> respectivamente, los otros dos son el ancho y el alto del cuadrado y las otras funciones <strong>beginPath</strong> y <strong>closePath</strong> sirven para no generar conflictos con otros dibujos futuros, es importante que vayan el este orden.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span></code></pre></div>

<p><img src="http://www.w3resource.com/html5-canvas/simple-rectangle.gif" alt="Canvas/Simple-rectangle" /></p>

<p>Ahora hagamos que se mueva para hacer eso utilizaremos un funcion del lenguaje llamada <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers.setInterval">setInterval</a> esto ejecuta un bloque codigo cada cierto intervalo de tiempo y esta formada de una funcion anonima “callback” y como segundo parametro la cantidad de tiempo en milisegundos que queremos que se ejecute el bloque de codigo, entre caso pondremos 1000/25 que significa que nuestro bloque de codigo se ejecutara 25 veces por segundo, a este intervalo lo guardaremos en una variable llamada animacion. </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">animacion</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span>
  <span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span></code></pre></div>

<p>Si ejecutas el codigo ahora no veras ningun cambio aparente pero en realidad se está dibujando  25 veces cada segundo el cuadrado, entonces para hacer que se mueva necesitemos algo que aumente el valor de la coordenada en <strong>X</strong>, simplemente creamos una variable <strong>moveX</strong> que iremos aumentando dentro del nuestro intervalo “animación”</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">moveX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="c1">// Creamos la variable que va a mover nuestro cuadrado</span>
  <span class="kd">var</span> <span class="nx">animacion</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="nx">moveX</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span>
        <span class="nx">moveX</span><span class="o">++</span>
  <span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span></code></pre></div>

<p>Si ejecutas el codigo tal vez veas algo como esto:</p>

<p><img src="../images/Bad_Rect_Animation.gif" alt="Bad_Rect_Animation" /></p>

<p>Nuestro cuadrado se comporta de manera extraña, esto es porque canvas funciona en las pantallas de televisión y cuando se hace un cambio como dibujar un rectángulo antes de mostrar lo debemos limpiar nuestro canvas, ¿como que limpiarlo? si limpiarlo mediante otro metodo llamado <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.clearRect">clearRect</a> para lograr la ilusion de movimiento, este metodo puede mirarlo como un goma de borrar, esto realmente borra una parte del canvas pero lo que nos interesa es borrar todo el canvas para dibujar la nueva posicion de nuestro cuadrado u otros dibujo que haremos mas adelante.</p>

<p><strong>clearRect</strong> recibe cuatro parámetros los dos primeros son las posiciones en <strong>x y</strong> donde queremos comenzar a borrar y los otros dos parámetros son el ancho y el alto de la “goma de borrar” </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">moveX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">animacion</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span><span class="c1">//borra el canvas antes de dibujar </span>
      <span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla     </span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="nx">moveX</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span>
        <span class="nx">moveX</span><span class="o">++</span>
  <span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span></code></pre></div>

<p>Con esto deberías ver algo como esto:</p>

<p><img src="../images/Rect_Animation.gif" alt="Rect_Animation" /></p>

<p>Puedes analizar el código completo de esta pequeña animacion aqui:</p>

<p><a href="http://jsfiddle.net/ymwq9anc/">Animacion de un cuadrado</a></p>

<h2 id="animacin-en-canvas-2">Animación en canvas 2</h2>
<p>Para este punto ya tenemos una idea más o menos de como funciona canvas, ahora hagamos cosas más interesantes con este mismo código, recuerdas las funciones de seno y cosenos que creíste nunca usarías en tu vida practica, pues resulta que son bastante útiles aquí para esta segunda animación vamos hacer que el cuadrado oscila en su movimiento de izquierda a derecha.</p>

<p>¿Por qué necesitamos en seno y el coseno?
Te lo voy explicar con un ejemplo miremos a cuanto equivale el seno de estos número:</p>

<table>
  <thead>
    <tr>
      <th>Sen</th>
      <th>Resultado</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>0.841…</td>
    </tr>
    <tr>
      <td>2</td>
      <td>0.909…</td>
    </tr>
    <tr>
      <td>3</td>
      <td>0.141…</td>
    </tr>
    <tr>
      <td>4</td>
      <td>-0.756…</td>
    </tr>
    <tr>
      <td>5</td>
      <td>-0.958…</td>
    </tr>
    <tr>
      <td>6</td>
      <td>-0.279…</td>
    </tr>
    <tr>
      <td>7</td>
      <td>0.656…</td>
    </tr>
    <tr>
      <td>8</td>
      <td>0.989…</td>
    </tr>
    <tr>
      <td>9</td>
      <td>0.412…</td>
    </tr>
    <tr>
      <td>10</td>
      <td>0.412…</td>
    </tr>
  </tbody>
</table>

<p>Como podemos ver cada algunos números son negativos y otros positivos esto es igual con la función coseno con la diferencia que el coseno comienza en negativo, este comportamiento se va a repetir una y otra vez. </p>

<p>¿Como aplicamos esto?
Recuerda que canvas ubica los elementos con el eje de coordenadas “x,y” entonces aprovechamos esto para mover nuestro cuadrado a veces a la izquierda y a veces a la derecha,veamos esto en código.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;lienzo&quot;</span><span class="p">);</span><span class="c1">// seleccionamos y cacheamos la etiqueta canvas por medio de su identificador y lo guardamos en una variable que llamaremos canvas</span>

  <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span><span class="c1">// Obtenemos el contexto en el que queremos dibujar en este caso es en 2d y lo guardamos en la variable ctx </span>
  <span class="kd">var</span> <span class="nx">moveX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">animacion</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
      <span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">moveX</span><span class="p">)</span><span class="o">*</span><span class="mi">200</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span>
      <span class="nx">moveX</span><span class="o">+=</span> <span class="mf">0.1</span>
  <span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span></code></pre></div>

<p>Si ejecutas el codigo ahora veras como esto:</p>

<p><img src="../images/Rect_oscila.gif" alt="oscila" /></p>

<p>Analisemos un poco el codigo el metodo: <a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Referencia/Objetos_globales/Math">Math</a> de javascript es el paquete de funciones matematicas que tiene el lenguaje una de esas es el seno ´sin´ la cual utilizamos para sacar el seno de <strong>moveX</strong> que va aumentando en <strong>0.1</strong> y recuerda estos valores oscilan entre positivo y negativo, entonces la posición del cuadrado en x también oscilará entre valores positivos y negativos y lo multiplicamos por <strong>200</strong> porque por ejemplo el seno de 1 es un número decimal muy pequeño entonces hay que elevarlo un poco para que se vea bien el movimiento si quieres puede jugar con este valor y notaras distintos comportamientos en el rango de movimiento </p>

<p>nota que canvas tambien acepta valores negativos sin ningun problema igual que el eje de coordenadas. </p>

<p>¿Porqué se aumenta en 0.1 moveX?</p>

<p>Eso es para hacer la animación más fluida por ejemplo: </p>

<table>
  <thead>
    <tr>
      <th>Sen</th>
      <th>Resultado</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>0.841…</td>
    </tr>
    <tr>
      <td>0.1</td>
      <td>0.099…</td>
    </tr>
  </tbody>
</table>

<p>el seno de <strong>0.1</strong> es más pequeño que el de <strong>1</strong> y así sucesivamente a medida que va aumentando la variable <strong>moveX</strong> y esto en el eje de coordenadas ubica el elemento con una interpolación de movimiento más fluida si le pones un valor como uno a <strong>moveX</strong> entonces notarás que el elemento va ha dar uno saltos que hacen la animacion un poco rara. <br />
si quieres que el cuadrado no se salga de la ventana del navegador entonces puedes sumarle un número la la ecuación del seno que teníamos antes:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">200</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">moveX</span><span class="p">)</span><span class="o">*</span><span class="mi">200</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado</span></code></pre></div>

<p>Puedes ver el codigo en vivo aqui:</p>

<p><a href="http://jsfiddle.net/jb782xfm/">Rect_oscila</a></p>

<h2 id="animacin-en-canvas-3">Animación en canvas 3</h2>
<p>En esta animación vamos a utilizar la <strong>funcion del seno</strong> de manera espectacular, primero voy a explicarte el metodo rotacion de objetos en canvas <a href="http://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_canvas_rotate">rotate</a> este metodo rota el contexto de algun objeto en nuestro canvas como un cuadrado y resive como paramtro una ecuacion matematica para convertir de radianes a grados el angulo de en cual queremos rotar el cuadrado esta ecuacion es la siguiente:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla</span>
  <span class="kd">var</span> <span class="nx">angulo</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span><span class="c1">//Angulo de rotacion </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza el trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">angulo</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span></code></pre></div>

<p>Para que funcione bien es importante que primero rotes el contexto con el método <strong>rotate</strong> antes de dibujar el cuadrado.</p>

<p><img src="../images/context_rotate.png" alt="context_rotate" /></p>

<p>Cuando usamos este método lo que hace es que rota todo el contexto de dibujo para los elementos que se dibujen después de declarada esta instrucción a menos que cerremos la ruta del trazo con <strong>closePath</strong> u otras técnicas como guardar el contexto antes de rotar con <strong>save</strong> y luego restaurar lo con <strong>restore</strong> pero por ahora no nos interesa eso.</p>

<p>Si juegas con los valores de la variable <strong>angulo</strong> podrás observar que parece estar rotando de maneras extrañas esto es porque el contexto del cuadrado se esta rotando desde el punto <strong>0,0</strong> del canvas es decir el origen para solucionar esto lo que hacemos es usar otro método para trasladar el contexto del cuadrado <strong>translate</strong> , con este método podemos hacer lo siguiente:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla</span>
  <span class="kd">var</span> <span class="nx">angulo</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span><span class="c1">//Angulo de rotacion </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza el trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">//transladamos el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">angulo</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span></code></pre></div>

<p>trasladamos el contexto del cuadrado a las coordenadas <strong>100,100</strong> si cambias el valor de la variable <strong>angulo</strong> no notaras mucha diferencia, recuerdas que el método <strong>fillRect</strong> crea un rectángulo teniendo como base unas coordenadas y un alto, ancho entonces para hacer que el pivote del cuadrado no sea el punto desde el cual nuestro cuadrado rote de forma extrañas, hacemos que el pivote este justo en el centro de la siguiente manera.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Grilla</span><span class="p">();</span><span class="c1">//invocamos la funcion que dibuja la grilla</span>
  <span class="kd">var</span> <span class="nx">angulo</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span><span class="c1">//Angulo de rotacion </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza el trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">//transladamos el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">angulo</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">100</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span></code></pre></div>

<p>si juegas con el ángulo de rotación veras que ya no se desplaza de manera extraña pero por qué ?</p>

<p><img src="../images/context_rotate_center.png" alt="context_rotate_center" /></p>

<p>esto es porque es esta línea: </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">100</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado</span></code></pre></div>

<p>cambiamos el origen desde el cual se va a dibujar nuestro canvas, recuerda que canvas también acepta números negativos, entonces en el eje <strong>X</strong> simplemente cambiamos la orientación dividiendo el ancho entre 2 y en el eje <strong>Y</strong> hicimos lo mismo pero con el alto, esta es la fórmula para encontrar el punto exacto de la mitad de un cuadrado, y lo volvimos negativo porque como trasladamos el contexto a la coordenada <strong>100,100</strong> lo puntos negativos menores a <strong>100</strong> son visibles dentro de canvas, esto puede ser un poco confuso pero aseguro que si juegas con los números podrás llegar a entenderlo y dominarlo.</p>

<p>Por ejemplo si comenzamos a dibujar desde las coordenadas <strong>0,0</strong> en este contexto realmente observamos como se si estuviera dibujando en la coordenadas <strong>100,100</strong> de un contexto normal</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado</span></code></pre></div>

<p>Con esto en mente hagamos que rote dentro de una animación:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">angulo</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span><span class="c1">//Angulo de rotacion </span>
<span class="kd">var</span> <span class="nx">Play</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span><span class="c1">//limpia el canvas</span>
  <span class="nx">Grilla</span><span class="p">();</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza el trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">//transladamos el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">angulo</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">100</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span>
  <span class="nx">angulo</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span></code></pre></div>

<p>Si todo te funciono bien tal vez veas algo como esto:</p>

<p><img src="../images/rect_rotate.gif" alt="rect_rotate" /></p>

<p>Simplemente creamos un <strong>setInterval</strong> corre a 25 fotogramas por segundo y vamos aumentando el ángulo de rotación por un factor de 2.</p>

<p>puedes ver el código completo aqui:</p>

<p><a href="http://jsfiddle.net/wsnn3pc3/">rect_rotate</a></p>

<h3 id="juguemos-con-las-matemticas-">Juguemos con las matemáticas !!!</h3>

<p>Que pasaria si rotamos el cuadrado con el seno del ángulo:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span></code></pre></div>

<p>Con esto aprovechamos la propiedad del seno que a veces es negativo y a veces positivo y hacemos que rote hacia la derecha o hacia la izquierda y lo multiplicamos por <strong>50</strong> porque el seno es un número decimal muy pequeño, ahora en vez de aumentar el ángulo en un factor de <strong>2</strong> lo hacemos con <strong>0.2</strong> para que la animación se vea más fluida</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angulo</span> <span class="o">+=</span> <span class="mf">0.2</span><span class="p">;</span></code></pre></div>

<p>Si todo funciona bien tal vez veas algo como esto:</p>

<p><img src="../images/Rect_rotate_oscila.gif" alt="Rect_oscila" /></p>

<h2 id="animacin-en-canvas-4">Animación en canvas 4</h2>

<p>Para este punto necesito que tengas muy en claro los conceptos de rotación y traslación que utilizamos en la animación anterior, vamos hacer el efecto de látigo muy popular en las animaciones de <strong>flash</strong> entonces simplemente re utilizamos el código anterior  </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">angulo</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span><span class="c1">//Angulo de rotacion </span>
<span class="kd">var</span> <span class="nx">Play</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span><span class="c1">//limpia el canvas</span>
  <span class="nx">Grilla</span><span class="p">();</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza el trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">//transladamos el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span>
  <span class="nx">angulo</span> <span class="o">+=</span> <span class="mf">0.25</span><span class="p">;</span>
<span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span></code></pre></div>

<p>Cambiamos el origen del cuadrado en este caso va hacer <strong>0,0</strong> en el contexto trasladado, si no entiendes eso te recomiendo que mires con más detalle la animación anterior, le cambiemos el aumento a el ángulo por <strong>0.25</strong>, hasta ahora no hay mucho cambio pero desde aquí comienza la magia así que muy atento/a</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza el trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">//transladamos el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span>

  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza otro trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">//transladamos el contexto del segundo cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span></code></pre></div>

<p>Creamos otro cuadrado el cual tiene propiedades similares a el primero solo que como estamos en el contexto que rotamos anteriormente entonces dentro este contexto volvemos a trasladarlo 25 píxeles en <strong>X,Y</strong> ¿por qué? este es el ancho y el alto del primer cuadrado esto con el objetivo de que el objetivo de que el origen del segundo cuadrado sea el punto inferior derecho del primero y le cambiamos el color con <strong>fillStyle</strong> para que se vea mejor.</p>

<p>Con esto logramos un efecto interesante:</p>

<p><img src="../images/Rect_latigo.png" alt="Rect_latigo" /></p>

<p>Ahora simplemente copiamos y pegamos para crear más cuadrados </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza el trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="c1">//transladamos el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span>

  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza otro trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">//transladamos el contexto del segundo cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span>

  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza otro trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">//transladamos el contexto del segundo cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span>

  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza otro trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">//transladamos el contexto del tercer cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span>

  <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">//Comienza otro trazo</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">//transladamos el contexto del cuarto cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;yellow&quot;</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">//Termina el trazo</span></code></pre></div>

<p>Si todo funciona bien verás algo como esto:</p>

<p><img src="../images/Rect_latigo_motion.gif" alt="Rect_latigo_motion" /></p>

<p>puedes jugar con los valores y obtener resultados impresionantes como por ejemplo si modificas 
la linea</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="mi">90</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span></code></pre></div>

<p>Aumentando el número por el cual se va a multiplicar seno del ángulo de rotación por 90 en cada cuadrado veras algo como esto:</p>

<p><img src="../images/Rect_motion_experiments.gif" alt="Rect_motion_experiments" /></p>

<p>O si solo lo modificas este valor en el ultimo cuadrado obtendras esto:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">((</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angulo</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">50</span><span class="o">+</span><span class="mi">35</span><span class="p">)</span> <span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">);</span><span class="c1">//rota el contexto del cuadrado</span></code></pre></div>

<p><img src="../images/Rect_motion_experiments2.gif" alt="Rect_motion_experiments2" /></p>

<p>si quieres puedes hacerlo mas lento o más rápido modificando el aumento del ángulo</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angulo</span> <span class="o">+=</span> <span class="mf">0.095</span><span class="p">;</span><span class="c1">//mas lento</span></code></pre></div>

<p>O aumentar la velocidad con valor al azar </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angulo</span> <span class="o">+=</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">;</span><span class="c1">//valor azar</span></code></pre></div>

<p>Puedes lograr efectos raros modificando las variables que podrías aplicar de muchas formas en cosas como videojuegos, todo esta en tu creatividad. </p>

<p>Si logras algo interesante te agradeseria que me lo mostraras en enviado me un tweet a <a href="https://twitter.com/Sneyder_A">Un man chevere</a> </p>

<p>Puedes ver el codigo completo aqui:
<a href="http://jsfiddle.net/jfug7n7o/">Rect_latigo_motion</a></p>

<h2 id="cinemticas-de-flappy-bird">Cinemáticas de flappy bird</h2>

<p>Ahora veremos como podemos emular la cinemática de un famoso juego <strong>flppy bird</strong> no voy ha hacer el juego completo porque sería muy largo tal vez en un post futuro lo haga pero vamos al grano, primero analisemo un poco de la cinematica del ave protagonista:</p>

<p><img src="../images/flappy_bird.gif" alt="flappy_bird" /></p>

<p>Te podrás imaginar que la función del seno será útil ahora el mismo código que teníamos anteriormente nos sirve, solo tenemos que cambiar la oscilación en el eje y:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;lienzo&quot;</span><span class="p">);</span><span class="c1">// seleccionamos y cacheamos la etiqueta canvas por medio de su identificador y lo guardamos en una variable que llamaremos canvas</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="s2">&quot;rgb(59, 183, 241)&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span><span class="c1">// Obtenemos el contexto en el que queremos dibujar en este caso es en 2d y lo guardamos en la variable ctx </span>
<span class="kd">var</span> <span class="nx">moveX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">animacion</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="nx">moveX</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="mi">200</span><span class="o">+</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">moveX</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span><span class="p">),</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span><span class="c1">// Dibuja un cuadrado </span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span>
    <span class="nx">moveX</span> <span class="o">+=</span> <span class="mf">0.4</span><span class="p">;</span>
<span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span></code></pre></div>

<p>En el eje x tendremos <strong>moveX*10</strong> es para que se desplace de forma horizontal, cambia el aumento de <strong>moveX</strong> en <strong>0.4</strong> para que se mueva mas rapido nuestro elemento y para dar mas estetica cambia el color de fondo del canvas con **canvas.style.background =”rgb(59, 183, 241)”;
**</p>

<p>tal vez vea algo como esto:</p>

<p><img src="../images/Rect_flappy_animation.gif" alt="Rect_flappy_animation" /></p>

<p>Por último lo que necesitamos reemplazar el cuadrado por una imagen de flappy canvas tiene la capacidad de hacer esto mediante un método llamado <a href="http://www.html5canvastutorials.com/tutorials/html5-canvas-images/">drawImage</a> busca una imagen en internet de flappy  y hagamos lo siguiente:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;lienzo&quot;</span><span class="p">);</span><span class="c1">// seleccionamos y cacheamos la etiqueta canvas por medio de su identificador y lo guardamos en una variable que llamaremos canvas</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="s2">&quot;rgb(59, 183, 241)&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span><span class="c1">// Obtenemos el contexto en el que queremos dibujar en este caso es en 2d y lo guardamos en la variable ctx </span>
<span class="kd">var</span> <span class="nx">flappy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span><span class="c1">//Creamos un nuevo objeto de la clase Image y lo instanciamos en la variable flappy</span>

<span class="nx">flappy</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="c1">//Cuando la imagen carge comienza la animacion  </span>
  <span class="kd">var</span> <span class="nx">moveX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">animacion</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">flappy</span><span class="p">,</span><span class="nx">moveX</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="mi">200</span><span class="o">+</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">moveX</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span><span class="p">),</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span><span class="c1">// Dibuja una imagen y le pasamos como primer parametro la imagen que acabo de cargar   </span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span>
      <span class="nx">moveX</span> <span class="o">+=</span> <span class="mf">0.4</span><span class="p">;</span>
  <span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">flappy</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;https://pbs.twimg.com/media/B00B0EoIcAAY6e6.png:large&quot;</span><span class="p">;</span> <span class="c1">// le pasamos la ruta de la imagen</span></code></pre></div>

<p>lo primero que hacemos es crear un nuevo objeto imagen que instanciamos en la variable flappy esto es como si escribiéramos una <strong>etiqueta imagen</strong> ´<img />´ en html desde <strong>javascript</strong> entonces cuando la imagen de flappy cargue en el evento <a href="http://www.w3schools.com/jsref/event_onload.asp">onload</a> comienza nuestra animación, con el método <a href="http://www.html5canvastutorials.com/tutorials/html5-canvas-images/">drawImage</a> reemplazamos el cuadrado por la imagen de flappy, nota que el primer parámetro que le pasamos a este método fue la imagen que creamos anterior, por ahora pega la imagen de flappy en la misma carpeta en donde esta el archivo de javascript, lo ideal sería que la imagen fuera con extensión png por que esta extensión acepta la transparencia de imágenes.  </p>

<p>Si todo funciona te funciona bien tal vez veas algo como esto:</p>

<p><img src="../images/flappy_animation.gif" alt="flappy_animation" /></p>

<p>Por último para gastar procesador de más entonces vamos a detener la animación ´setInterval´ con el método <strong>clearInterval</strong> de esta manera: </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;lienzo&quot;</span><span class="p">);</span><span class="c1">// seleccionamos y cacheamos la etiqueta canvas por medio de su identificador y lo guardamos en una variable que llamaremos canvas</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="s2">&quot;rgb(59, 183, 241)&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span><span class="c1">// Obtenemos el contexto en el que queremos dibujar en este caso es en 2d y lo guardamos en la variable ctx </span>
<span class="kd">var</span> <span class="nx">flappy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span><span class="c1">//Creamos un nuevo objeto de la clase Image y lo instanciamos en la variable flappy</span>

<span class="nx">flappy</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="c1">//Cuando la imagen carge comienza la animacion  </span>
  <span class="kd">var</span> <span class="nx">moveX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">animacion</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span><span class="c1">// Comienza a trazar</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">flappy</span><span class="p">,</span><span class="nx">moveX</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="mi">200</span><span class="o">+</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">moveX</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span><span class="p">),</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span><span class="c1">// Dibuja una imagen y le pasamos como primer parametro la imagen que acabo de cargar   </span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span><span class="c1">// Termina el trazo</span>
      <span class="nx">moveX</span> <span class="o">+=</span> <span class="mf">0.4</span><span class="p">;</span>
      <span class="k">if</span><span class="p">(</span> <span class="nx">moveX</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">50</span> <span class="o">&gt;=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="p">){</span>
        <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">animacion</span><span class="p">);</span>
      <span class="p">};</span>  
  <span class="p">},</span><span class="mi">1000</span><span class="o">/</span><span class="mi">25</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">flappy</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;https://pbs.twimg.com/media/B00B0EoIcAAY6e6.png:large&quot;</span><span class="p">;</span> <span class="c1">// le pasamos la ruta de la imagen</span></code></pre></div>

<p>Cuando flappy llega al punto máximo en el eje x entonces detenemos la animación con ´       clearInterval(animacion)´ y le pasamos como parámetro el nombre del ´setInterval´ que contiene nuestra animación, o podemos hacer que que nuestra animación comience de nuevo regresando a la variable moveX que mueve a flappy a su valor original.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">if</span><span class="p">(</span> <span class="nx">moveX</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">50</span> <span class="o">&gt;=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="p">){</span>
    <span class="nx">moveX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="c1">//clearInterval(animacion);//detiene la animacion</span>
  <span class="p">};</span></code></pre></div>

<p>Si todo esta bien tal vez veas algo como esto:</p>

<p><img src="../images/bird.gif" alt="bird" /></p>

<p>Puedes ver el código completo aqui:
<a href="http://jsfiddle.net/1tqaxmes/">flappy_animation</a></p>

<p>para los proximo post sobre canvas hablaremos de la como hacer video juegos con javascript orientado a objetos tal vez hagamos un clon de flappy bird o del clasico invasores del espacio gracias por tu atencion te agradeceria si lo compartes si aprendiste algo agradece con un tweet att: <a href="https://twitter.com/Sneyder_A">Un man chevere</a>
att: <a href="https://twitter.com/H4ckdo">H4ckdo</a>
att: <a href="https://twitter.com/QuibdoJs">QuibdoJs</a></p>

  </div>

  
 <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'hakcdo';

      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
                    
          
          <a href="http://facebook.com/groups/1462262297359495"><svg width="40px" height="40px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0.112290344,30 C0.112290344,13.4314567 13.3426506,0 29.663129,0 C45.9836073,0 59.2139676,13.4314567 59.2139676,30 C59.2139676,46.5685433 45.9836073,60 29.663129,60 C13.3426506,60 0.112290344,46.5685433 0.112290344,30 Z M0.112290344,30" fill="#3B5998" sketch:type="MSShapeGroup"></path>
	<path d="M32.1341457,46.3196729 L32.1341457,29.9980891 L36.5657565,29.9980891 L37.1530406,24.3735809 L32.1341457,24.3735809 L32.141675,21.5584604 C32.141675,20.091502 32.2787707,19.3054722 34.351206,19.3054722 L37.1216686,19.3054722 L37.1216686,13.6803271 L32.6894304,13.6803271 C27.3655995,13.6803271 25.491749,16.4088187 25.491749,20.9972835 L25.491749,24.3742179 L22.1732173,24.3742179 L22.1732173,29.998726 L25.491749,29.998726 L25.491749,46.3196729 L32.1341457,46.3196729 Z M32.1341457,46.3196729" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
	<path d="M59.2139676,30 C59.2139676,46.5685433 45.9836073,60 29.663129,60 C23.6102502,60 17.9824147,58.1525134 13.2970341,54.9827754 L47.1572554,5.81941103 C54.4691534,11.2806503 59.2139676,20.0777973 59.2139676,30 Z M59.2139676,30" id="reflec" fill-opacity="0.08" fill="#000000" sketch:type="MSShapeGroup"></path>
</svg></a>
          
          <a href="http://github.com/h4ckdo"><svg width="40px" height="40px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0.336871032,30 C0.336871032,13.4314567 13.5672313,0 29.8877097,0 C46.208188,0 59.4385483,13.4314567 59.4385483,30 C59.4385483,46.5685433 46.208188,60 29.8877097,60 C13.5672313,60 0.336871032,46.5685433 0.336871032,30 Z M0.336871032,30" id="Github" fill="#333333" sketch:type="MSShapeGroup"></path>
    <path d="M18.2184245,31.9355566 C19.6068506,34.4507902 22.2845295,36.0156764 26.8007287,36.4485173 C26.1561023,36.9365335 25.3817877,37.8630984 25.2749857,38.9342607 C24.4644348,39.4574749 22.8347506,39.62966 21.5674303,39.2310659 C19.7918469,38.6717023 19.1119377,35.1642642 16.4533306,35.6636959 C15.8773626,35.772144 15.9917933,36.1507609 16.489567,36.4722998 C17.3001179,36.9955141 18.0629894,37.6500075 18.6513541,39.04366 C19.1033554,40.113871 20.0531304,42.0259813 23.0569369,42.0259813 C24.2489236,42.0259813 25.0842679,41.8832865 25.0842679,41.8832865 C25.0842679,41.8832865 25.107154,44.6144649 25.107154,45.6761142 C25.107154,46.9004355 23.4507693,47.2457569 23.4507693,47.8346108 C23.4507693,48.067679 23.9990832,48.0895588 24.4396415,48.0895588 C25.3102685,48.0895588 27.1220883,47.3646693 27.1220883,46.0918317 C27.1220883,45.0806012 27.1382993,41.6806599 27.1382993,41.0860982 C27.1382993,39.785673 27.8372803,39.3737607 27.8372803,39.3737607 C27.8372803,39.3737607 27.924057,46.3153869 27.6704022,47.2457569 C27.3728823,48.3397504 26.8360115,48.1846887 26.8360115,48.6727049 C26.8360115,49.3985458 29.0168704,48.8505978 29.7396911,47.2571725 C30.2984945,46.0166791 30.0543756,39.2072834 30.0543756,39.2072834 L30.650369,39.1949165 C30.650369,39.1949165 30.6837446,42.3123222 30.6637192,43.7373675 C30.6427402,45.2128317 30.5426134,47.0792797 31.4208692,47.9592309 C31.9977907,48.5376205 33.868733,49.5526562 33.868733,48.62514 C33.868733,48.0857536 32.8436245,47.6424485 32.8436245,46.1831564 L32.8436245,39.4688905 C33.6618042,39.4688905 33.5387911,41.6768547 33.5387911,41.6768547 L33.5988673,45.7788544 C33.5988673,45.7788544 33.4186389,47.2733446 35.2190156,47.8992991 C35.8541061,48.1209517 37.2139245,48.1808835 37.277815,47.8089257 C37.3417055,47.4360167 35.6405021,46.8814096 35.6252446,45.7236791 C35.6157088,45.0178155 35.6567131,44.6059032 35.6567131,41.5379651 C35.6567131,38.470027 35.2438089,37.336079 33.8048426,36.4323453 C38.2457082,35.9766732 40.9939527,34.880682 42.3337458,31.9450695 C42.4383619,31.9484966 42.8791491,30.5737742 42.8219835,30.5742482 C43.1223642,29.4659853 43.2844744,28.1550957 43.3168964,26.6025764 C43.3092677,22.3930799 41.2895654,20.9042975 40.9014546,20.205093 C41.4736082,17.0182425 40.8060956,15.5675121 40.4961791,15.0699829 C39.3518719,14.6637784 36.5149435,16.1145088 34.9653608,17.1371548 C32.438349,16.3998984 27.0982486,16.4712458 25.0957109,17.3274146 C21.4005522,14.6875608 19.445694,15.0918628 19.445694,15.0918628 C19.445694,15.0918628 18.1821881,17.351197 19.1119377,20.6569598 C17.8961113,22.2028201 16.9902014,23.2968136 16.9902014,26.1963718 C16.9902014,27.8297516 17.1828264,29.2918976 17.6176632,30.5685404 C17.5643577,30.5684093 18.2008493,31.9359777 18.2184245,31.9355566 Z M18.2184245,31.9355566" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
    <path d="M59.4385483,30 C59.4385483,46.5685433 46.208188,60 29.8877097,60 C23.8348308,60 18.2069954,58.1525134 13.5216148,54.9827754 L47.3818361,5.81941103 C54.6937341,11.2806503 59.4385483,20.0777973 59.4385483,30 Z M59.4385483,30" id="reflec" fill-opacity="0.08" fill="#000000" sketch:type="MSShapeGroup"></path>
</svg></a>
          
          
          
          
          <a href="http://twitter.com/h4ckdo"><svg width="40px" height="40px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0,30 C0,13.4314567 13.4508663,0 30.0433526,0 C46.6358389,0 60.0867052,13.4314567 60.0867052,30 C60.0867052,46.5685433 46.6358389,60 30.0433526,60 C13.4508663,60 0,46.5685433 0,30 Z M0,30" fill="#4099FF" sketch:type="MSShapeGroup"></path>
    <path d="M29.2997675,23.8879776 L29.3627206,24.9260453 L28.3135016,24.798935 C24.4943445,24.3116787 21.1578281,22.6592444 18.3249368,19.8840023 L16.9399677,18.5069737 L16.5832333,19.5238563 C15.8277956,21.7906572 16.3104363,24.1845684 17.8842648,25.7946325 C18.72364,26.6844048 18.5347806,26.8115152 17.0868584,26.2818888 C16.5832333,26.1124083 16.1425613,25.985298 16.1005925,26.0488532 C15.9537019,26.1971486 16.457327,28.1249885 16.8560302,28.8876505 C17.4016241,29.9469033 18.5137962,30.9849709 19.7308902,31.5993375 L20.7591248,32.0865938 L19.5420308,32.1077788 C18.3669055,32.1077788 18.3249368,32.1289639 18.4508431,32.57385 C18.8705307,33.9508786 20.5282967,35.4126474 22.3749221,36.048199 L23.6759536,36.4930852 L22.5427971,37.1710069 C20.8640467,38.1455194 18.891515,38.6963309 16.9189833,38.738701 C15.9746862,38.759886 15.1982642,38.8446262 15.1982642,38.9081814 C15.1982642,39.1200319 17.7583585,40.306395 19.2482495,40.7724662 C23.7179224,42.1494948 29.0269705,41.5563132 33.0140027,39.2047722 C35.846894,37.5311528 38.6797853,34.2050993 40.0018012,30.9849709 C40.7152701,29.2689815 41.428739,26.1335934 41.428739,24.6294545 C41.428739,23.654942 41.4916922,23.5278317 42.6668174,22.3626537 C43.359302,21.6847319 44.0098178,20.943255 44.135724,20.7314044 C44.3455678,20.3288884 44.3245835,20.3288884 43.2543801,20.6890343 C41.4707078,21.324586 41.2188952,21.2398458 42.1002392,20.2865183 C42.750755,19.6085965 43.527177,18.3798634 43.527177,18.0197174 C43.527177,17.9561623 43.2124113,18.0620876 42.8556769,18.252753 C42.477958,18.4646036 41.6385828,18.7823794 41.0090514,18.9730449 L39.8758949,19.3331908 L38.8476603,18.634084 C38.281082,18.252753 37.4836756,17.829052 37.063988,17.7019416 C35.9937846,17.4053509 34.357003,17.447721 33.3917215,17.7866818 C30.768674,18.7400093 29.110908,21.1974757 29.2997675,23.8879776 Z M29.2997675,23.8879776" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
    <path d="M60.0867052,30 C60.0867052,46.5685433 46.6358389,60 30.0433526,60 C23.8895925,60 18.1679598,58.1525134 13.4044895,54.9827754 L47.8290478,5.81941103 C55.2628108,11.2806503 60.0867052,20.0777973 60.0867052,30 Z M60.0867052,30" id="reflec" fill-opacity="0.08" fill="#000000" sketch:type="MSShapeGroup"></path>
</svg></a>
          
        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53906847-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
